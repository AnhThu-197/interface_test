<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Đăng ký sản phẩm mới</title>
    <link rel="stylesheet" href="../../css/main.css" />
    <link rel="stylesheet" href="../../css/Navbar/navbar.css" />
    <link rel="stylesheet" href="../../css/NhanVien/dashboard.css" />
    <link rel="stylesheet" href="../../css/NhanVien/dangkysanphammoi.css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Dancing+Script|Itim|Lobster|Montserrat:500|Noto+Serif|Nunito|Patrick+Hand|Roboto+Mono:100,100i,300,300i,400,400i,500,500i,700,700i|Roboto+Slab|Saira" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  </head>

  <body>
    <header>
      <div class="head2">
        <div>
          <a href="../../trangchu.html">
            <img class="logo-trangchu" src="../../images/logohandmade.jpg" alt="logo" />
          </a>
        </div>
        <div class="head2--list">
          <form action="" id="search-box">
            <buttom class="search-bottom">
              <img width="18" height="18" src="https://img.icons8.com/ios-glyphs/30/search--v1.png" alt="search--v1" />
            </buttom>
            <input id="search-text" type="text" placeholder="Tìm kiếm" />
            <button class="search-bottom">
              <img class="search-bottom-vid" src="../../images/scan-image.gif" alt="" srcset="" />
            </button>
          </form>
          <div id="store">
            <img width="28" height="28" src="https://img.icons8.com/wired/64/online-store.png" alt="online-store" />
            <a href="../HeThongCuaHang.html">
              <p>Hệ thống cửa hàng</p>
            </a>
          </div>
          <div id="news">
            <img width="25" height="25" src="https://img.icons8.com/external-nawicon-detailed-outline-nawicon/64/external-newspaper-communication-nawicon-detailed-outline-nawicon.png" alt="external-newspaper-communication-nawicon-detailed-outline-nawicon" />
            <a href="../../trangchu.html#MAGAZINE">
              <p>Danh mục</p>
            </a>
          </div>
          <div id="login">
            <img width="28" height="28" src="https://img.icons8.com/parakeet-line/48/user-male-circle.png" alt="user-male-circle" />
            <a href="../ThongTinCaNhan.html">
              <p>Nguyễn Văn A</p>
            </a>
            <div class="cart-container">
              <a href="../GioHang.html">
                <img class="cart-icon" width="25" height="25" src="https://img.icons8.com/ios/50/shopping-bag--v1.png" alt="shopping-bag--v1" />
                <span class="cart-badge">0</span>
              </a>
            </div>
          </div>
        </div>
      </div>
    </header>

    <main>
      <div class="employee-breadcrumb">
        <a href="../../trangchu.html">Trang chủ</a> &gt;
        <a href="Dashboard.html">Trang nhân viên</a> &gt;
        <span>Đăng ký sản phẩm mới</span>
      </div>

      <div class="employee-container">
        <div class="employee-sidebar">
          <div class="sidebar-header">
            <div class="employee-avatar">
              <img src="../../images/user.jpg" alt="Nguyễn Hoàng Anh Thư" />
            </div>
            <div class="employee-info">
              <h3>Nguyễn Hoàng Anh Thư</h3>
              <p>Nhân viên - Sinh viên UTE</p>
              <span class="employee-id">ID: NV232240</span>
            </div>
          </div>
          
          <div class="sidebar-menu">
            <ul>
              <li>
                <a href="Dashboard.html"><i class="fas fa-home"></i> Tổng quan</a>
              </li>
              <li>
                <a href="DangKyThamGia.html"><i class="fas fa-user-plus"></i> Đăng ký tham gia sản xuất</a>
              </li>
              <li>
                <a href="QuyDinhLamViec.html"><i class="fas fa-book"></i> Quy định làm việc</a>
              </li>
              <li>
                <a href="RutTien.html"><i class="fas fa-hand-holding-usd"></i> Quy trình làm việc</a>
              </li>
              <li>
                <a href="DanhSachDonLam.html"><i class="fas fa-list"></i> Danh sách đơn làm</a>
              </li>
              <li>
                <a href="DangKyDonLam.html"><i class="fas fa-edit"></i> Đăng ký đơn làm</a>
              </li>
              <li class="active">
                <a href="DangKySanPhamMoi.html"><i class="fas fa-plus-circle"></i> Đăng ký sản phẩm mới</a>
              </li>
              <li>
                <a href="NopSanPham.html"><i class="fas fa-upload"></i> Nộp sản phẩm</a>
              </li>
              <li>
                <a href="LichSuSanPham.html"><i class="fas fa-history"></i> Lịch sử sản phẩm nộp</a>
              </li>
              <li>
                <a href="LichSuDonLam.html"><i class="fas fa-clipboard-list"></i> Lịch sử đơn làm</a>
              </li>
              <li>
                <a href="ThuNhap.html"><i class="fas fa-money-bill-wave"></i> Xem thu nhập</a>
              </li>
              <li>
                <a href="LichSuGiaoDich.html"><i class="fas fa-exchange-alt"></i> Lịch sử giao dịch</a>
              </li>
            </ul>
          </div>
        </div>

        <div class="employee-content">
          <div class="page-title">
            <h1>Đăng ký sản phẩm mới</h1>
          </div>

          <div class="intro-section">
            <div class="intro-card">
              <div class="intro-icon">
                <i class="fas fa-lightbulb"></i>
              </div>
              <div class="intro-content">
                <h2>Đề xuất ý tưởng sản phẩm mới</h2>
                <p>Bạn có ý tưởng sản phẩm thủ công mỹ nghệ mới? Hãy chia sẻ với chúng tôi! Các ý tưởng sáng tạo được chấp nhận sẽ được đưa vào sản xuất và bạn sẽ nhận được phần thưởng xứng đáng cùng quyền tham gia sản xuất ưu tiên.</p>
              </div>
            </div>
          </div>

          <div class="new-product-form-section">
            <div class="section-header">
              <h2>Thông tin sản phẩm mới</h2>
            </div>
            <div class="new-product-form">
              <form id="newProductForm">
                <div class="form-section">
                  <div class="form-group">
                    <label for="productName">Tên sản phẩm <span class="required">*</span></label>
                    <input type="text" id="productName" name="productName" placeholder="Nhập tên sản phẩm" required />
                  </div>
                  <div class="form-row">
                    <div class="form-group">
                      <label for="productCategory">Danh mục sản phẩm <span class="required">*</span></label>
                      <select id="productCategory" name="productCategory" required>
                        <option value="">Chọn danh mục</option>
                        <option value="túi">Túi thủ công</option>
                        <option value="vòng">Vòng đeo tay</option>
                        <option value="thiệp">Thiệp handmade</option>
                        <option value="móc-khóa">Móc khóa</option>
                        <option value="trang-sức">Trang sức</option>
                        <option value="đồ-gỗ">Đồ gỗ</option>
                        <option value="đồ-dệt">Đồ dệt</option>
                        <option value="khác">Khác</option>
                      </select>
                    </div>
                    <div class="form-group" id="otherCategoryGroup" style="display: none;">
                      <label for="otherCategory">Danh mục khác <span class="required">*</span></label>
                      <input type="text" id="otherCategory" name="otherCategory" placeholder="Nhập danh mục khác" />
                    </div>
                  </div>
                  <div class="form-group">
                    <label for="productDescription">Mô tả sản phẩm <span class="required">*</span></label>
                    <textarea id="productDescription" name="productDescription" rows="4" placeholder="Mô tả chi tiết về sản phẩm, đặc điểm nổi bật, công dụng..." required></textarea>
                  </div>
                </div>

                <div class="form-section">
                  <h3>Đặc điểm kỹ thuật</h3>
                  <div class="form-row">
                    <div class="form-group">
                      <label for="productDimensions">Kích thước (cm) <span class="required">*</span></label>
                      <input type="text" id="productDimensions" name="productDimensions" placeholder="Ví dụ: 20 x 15 x 5" />
                    </div>
                    <div class="form-group">
                      <label for="productWeight">Trọng lượng (g) <span class="required">*</span></label>
                      <input type="number" id="productWeight" name="productWeight" placeholder="Nhập trọng lượng" min="0" />
                    </div>
                  </div>
                  <div class="form-group">
                    <label for="materials">Vật liệu chính <span class="required">*</span></label>
                    <input type="text" id="materials" name="materials" placeholder="Ví dụ: Vải cotton, gỗ, da, kim loại..." required />
                  </div>
                  <div class="form-group">
                    <label for="productionTime">Thời gian sản xuất ước tính (giờ) <span class="required">*</span></label>
                    <input type="number" id="productionTime" name="productionTime" placeholder="Thời gian làm một sản phẩm" min="1" required />
                  </div>
                  <div class="form-group">
                    <label for="difficulty">Độ khó <span class="required">*</span></label>
                    <select id="difficulty" name="difficulty" required>
                      <option value="">Chọn độ khó</option>
                      <option value="dễ">Dễ - Người mới có thể làm được</option>
                      <option value="trung-bình">Trung bình - Cần một chút kinh nghiệm</option>
                      <option value="khó">Khó - Cần có kỹ năng và kinh nghiệm</option>
                      <option value="rất-khó">Rất khó - Cần kỹ năng chuyên sâu</option>
                    </select>
                  </div>
                </div>

                <div class="form-section">
                  <h3>Giá trị và chi phí</h3>
                  <div class="form-row">
                    <div class="form-group">
                      <label for="materialCost">Chi phí vật liệu ước tính (VNĐ) <span class="required">*</span></label>
                      <input type="number" id="materialCost" name="materialCost" placeholder="Ước tính chi phí vật liệu" min="0" required />
                    </div>
                    <div class="form-group">
                      <label for="suggestedPrice">Giá bán đề xuất (VNĐ) <span class="required">*</span></label>
                      <input type="number" id="suggestedPrice" name="suggestedPrice" placeholder="Đề xuất giá bán" min="0" required />
                    </div>
                  </div>
                  <div class="form-group">
                    <label for="targetMarket">Đối tượng khách hàng mục tiêu <span class="required">*</span></label>
                    <input type="text" id="targetMarket" name="targetMarket" placeholder="Ví dụ: Học sinh, sinh viên, doanh nhân..." />
                  </div>
                  <div class="form-group">
                    <label for="uniqueFeatures">Điểm độc đáo của sản phẩm <span class="required">*</span></label>
                    <textarea id="uniqueFeatures" name="uniqueFeatures" rows="3" placeholder="Điểm nổi bật so với sản phẩm tương tự trên thị trường" required></textarea>
                  </div>
                </div>

                <div class="form-section">
                  <h3>Hình ảnh và tài liệu</h3>
                  <div class="form-group">
                    <label for="productImages">Hình ảnh mẫu hoặc phác thảo <span class="required">*</span></label>
                    <div class="file-upload-container">
                      <div class="file-upload-button">
                        <input type="file" id="productImages" name="productImages" accept="image/*" multiple required />
                        <label for="productImages" class="upload-btn">
                          <i class="fas fa-upload"></i> Tải lên hình ảnh
                        </label>
                      </div>
                      <div class="file-info">Tối đa 5 hình ảnh (định dạng JPG, PNG, WEBP)</div>
                    </div>
                    <div class="image-preview" id="imagePreview"></div>
                  </div>
                  <div class="form-group">
                    <label for="additionalFiles">Tài liệu bổ sung (nếu có)</label>
                    <div class="file-upload-container">
                      <div class="file-upload-button">
                        <input type="file" id="additionalFiles" name="additionalFiles" accept=".pdf,.doc,.docx,.xls,.xlsx" />
                        <label for="additionalFiles" class="upload-btn">
                          <i class="fas fa-file-upload"></i> Tải lên tài liệu
                        </label>
                      </div>
                      <div class="file-info">Tài liệu có thể là hướng dẫn chi tiết, bản vẽ kỹ thuật (định dạng PDF, DOC, XLS)</div>
                    </div>
                    <div class="file-list" id="fileList"></div>
                  </div>
                </div>

                <div class="form-section">
                  <h3>Thông tin bổ sung</h3>
                  <div class="form-group">
                    <label for="additionalInfo">Thông tin bổ sung khác</label>
                    <textarea id="additionalInfo" name="additionalInfo" rows="3" placeholder="Các thông tin khác bạn muốn chia sẻ về sản phẩm"></textarea>
                  </div>
                  <div class="form-group terms-group">
                    <div class="checkbox-item">
                      <input type="checkbox" id="termsCopyright" name="termsCopyright" required />
                      <label for="termsCopyright">Tôi xác nhận đây là ý tưởng/thiết kế của tôi hoặc tôi có quyền sử dụng và đăng ký sản phẩm này <span class="required">*</span></label>
                    </div>
                  </div>
                  <div class="form-group terms-group">
                    <div class="checkbox-item">
                      <input type="checkbox" id="termsAgreement" name="termsAgreement" required />
                      <label for="termsAgreement">Tôi đồng ý với các điều khoản đăng ký sản phẩm mới và hiểu rằng nếu đề xuất được chọn, sản phẩm sẽ được đưa vào danh mục sản xuất <span class="required">*</span></label>
                    </div>
                  </div>
                </div>

                <div class="form-actions">
                  <button type="button" class="btn btn-back" onclick="window.location.href='Dashboard.html'">Hủy</button>
                  <button type="submit" class="btn btn-submit">Gửi đề xuất sản phẩm</button>
                </div>
              </form>
            </div>
          </div>

          <div class="registration-confirmation-modal" id="confirmationModal">
            <div class="modal-content">
              <div class="modal-header">
                <i class="fas fa-check-circle"></i>
                <h3>Đăng ký thành công!</h3>
                <button class="close-modal-btn">&times;</button>
              </div>
              <div class="modal-body">
                <p>Đề xuất sản phẩm mới của bạn đã được gửi thành công!</p>
                <p>Chúng tôi sẽ xem xét đề xuất và phản hồi trong vòng 5-7 ngày làm việc.</p>
                <p>Nếu sản phẩm được chấp nhận, bạn sẽ nhận được thông báo và phần thưởng tương ứng.</p>
                
                <div class="modal-actions">
                  <a href="Dashboard.html" class="btn btn-primary">Về trang tổng quan</a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>

    <footer>
      <div class="item item-1">
        <h4>Follow Us</h4>
        <div class="icon">
          <img src="../../images/logohandmade.jpg" alt="" />
          <br />
          <a href="#"><i class="fa-brands fa-facebook"></i></a>
          <a href="#"><i class="fa-brands fa-twitter"></i></a>
          <a href="#"><i class="fa-brands fa-instagram"></i></a>
          <a href="#"><i class="fa-brands fa-youtube"></i></a>
        </div>
      </div>
      <div class="item">
        <h4>VỀ CHÚNG TÔI</h4>
        <ul>
          <li><a href="#">Câu chuyện thương hiệu</a></li>
          <li><a href="#">Về chúng tôi</a></li>
          <li><a href="#">Liên hệ</a></li>
        </ul>
      </div>
      <div class="item">
        <h4>CHÍNH SÁCH</h4>
        <ul>
          <li><a href="#">Chính sách và quy định chung</a></li>
          <li><a href="#">Chính sách giao nhận thanh toán</a></li>
          <li><a href="#">Chính sách đổi trả sản phẩm</a></li>
        </ul>
      </div>
      <div class="item">
        <h4>MY SHOP</h4>
        <ul>
          <li><a href="#">Quyền lợi thành viên</a></li>
          <li><a href="#">Thông tin thành viên</a></li>
          <li><a href="#">Theo dõi đơn hàng</a></li>
        </ul>
      </div>
    </footer>

    <script src="../../js/utils/dataLoader.js"></script>
    <script src="../../js/utils/productUtils.js"></script>
    <script src="../../js/utils/cart.js"></script>
    <script src="../../js/utils/searchUtils.js"></script>
    <script src="../../js/utils/message.js"></script>
    <script src="../../js/utils/auth.js"></script>
    <script src="../../js/utils/dropdown.js"></script>

    <script>
      // Show "Other Category" field when "Khác" is selected
      document.getElementById('productCategory').addEventListener('change', function() {
        const otherCategoryGroup = document.getElementById('otherCategoryGroup');
        if (this.value === 'khác') {
          otherCategoryGroup.style.display = 'block';
          document.getElementById('otherCategory').setAttribute('required', true);
        } else {
          otherCategoryGroup.style.display = 'none';
          document.getElementById('otherCategory').removeAttribute('required');
        }
      });

      // Image preview
      document.getElementById('productImages').addEventListener('change', function(e) {
        const imagePreview = document.getElementById('imagePreview');
        imagePreview.innerHTML = '';
        
        if (this.files.length > 5) {
          alert('Chỉ được tải lên tối đa 5 hình ảnh');
          this.value = '';
          return;
        }
        
        for (let i = 0; i < this.files.length; i++) {
          const file = this.files[i];
          if (!file.type.match('image.*')) {
            continue;
          }
          
          const reader = new FileReader();
          reader.onload = function(e) {
            const previewContainer = document.createElement('div');
            previewContainer.className = 'preview-item';
            
            const img = document.createElement('img');
            img.src = e.target.result;
            img.title = file.name;
            
            const removeBtn = document.createElement('button');
            removeBtn.className = 'remove-btn';
            removeBtn.innerHTML = '<i class="fas fa-times"></i>';
            removeBtn.addEventListener('click', function() {
              previewContainer.remove();
            });
            
            previewContainer.appendChild(img);
            previewContainer.appendChild(removeBtn);
            imagePreview.appendChild(previewContainer);
          };
          
          reader.readAsDataURL(file);
        }
      });

      // File list
      document.getElementById('additionalFiles').addEventListener('change', function(e) {
        const fileList = document.getElementById('fileList');
        fileList.innerHTML = '';
        
        for (let i = 0; i < this.files.length; i++) {
          const file = this.files[i];
          
          const fileItem = document.createElement('div');
          fileItem.className = 'file-item';
          
          let fileIcon = 'fa-file';
          if (file.name.endsWith('.pdf')) fileIcon = 'fa-file-pdf';
          else if (file.name.endsWith('.doc') || file.name.endsWith('.docx')) fileIcon = 'fa-file-word';
          else if (file.name.endsWith('.xls') || file.name.endsWith('.xlsx')) fileIcon = 'fa-file-excel';
          
          fileItem.innerHTML = `
            <i class="fas ${fileIcon}"></i>
            <span class="file-name">${file.name}</span>
            <span class="file-size">${(file.size / 1024).toFixed(2)} KB</span>
          `;
          
          fileList.appendChild(fileItem);
        }
      });

      // Form submission
      document.getElementById('newProductForm').addEventListener('submit', function(e) {
        e.preventDefault();
        document.getElementById('confirmationModal').style.display = 'flex';
      });

      // Close modal
      document.querySelector('.close-modal-btn').addEventListener('click', function() {
        document.getElementById('confirmationModal').style.display = 'none';
      });
    </script>
  </body>
</html> 