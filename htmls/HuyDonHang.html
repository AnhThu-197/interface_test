<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Hủy đơn hàng</title>
    <link rel="stylesheet" href="../css/main.css" />
    <link rel="stylesheet" href="../css/Navbar/navbar.css" />
    <link rel="stylesheet" href="../css/huydonhang.css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Dancing+Script|Itim|Lobster|Montserrat:500|Noto+Serif|Nunito|Patrick+Hand|Roboto+Mono:100,100i,300,300i,400,400i,500,500i,700,700i|Roboto+Slab|Saira" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  </head>

  <body>
    <header>
      <div class="head2">
        <div>
          <a href="../trangchu.html">
            <img class="logo-trangchu" src="../images/logohandmade.jpg" alt="logo" />
          </a>
        </div>
        <div class="head2--list">
          <form action="" id="search-box">
            <buttom class="search-bottom">
              <img width="18" height="18" src="https://img.icons8.com/ios-glyphs/30/search--v1.png" alt="search--v1" />
            </buttom>
            <input id="search-text" type="text" placeholder="Tìm kiếm sản phẩm" />
            <button class="search-bottom">
              <img class="search-bottom-vid" src="../images/scan-image.gif" alt="" srcset="" />
            </button>
          </form>
          <div id="store">
            <img width="28" height="28" src="https://img.icons8.com/wired/64/online-store.png" alt="online-store" />
            <a href="HeThongCuaHang.html">
              <p>Hệ thống cửa hàng</p>
            </a>
          </div>
          <div id="news">
            <img width="25" height="25" src="https://img.icons8.com/external-nawicon-detailed-outline-nawicon/64/external-newspaper-communication-nawicon-detailed-outline-nawicon.png" alt="external-newspaper-communication-nawicon-detailed-outline-nawicon" />
            <a href="#MAGAZINE">
              <p>Danh mục</p>
            </a>
          </div>
          <div id="login">
            <img width="28" height="28" src="https://img.icons8.com/parakeet-line/48/user-male-circle.png" alt="user-male-circle" />
            <a href="Login.html">
              <p>Đăng nhập</p>
            </a>
            <div class="cart-container">
              <a href="GioHang.html">
                <img class="cart-icon" width="25" height="25" src="https://img.icons8.com/ios/50/shopping-bag--v1.png" alt="shopping-bag--v1" />
                <span class="cart-badge">0</span>
              </a>
            </div>
          </div>
        </div>
      </div>
    </header>

    <main>
      <div class="order-breadcrumb">
        <a href="../trangchu.html">Trang chủ</a> &gt;
        <a href="ThongTinCaNhan.html">Tài khoản</a> &gt;
        <a href="DonHang.html">Đơn hàng của tôi</a> &gt;
        <a href="ChiTietDonHang.html">Chi tiết đơn hàng</a> &gt;
        <span>Hủy đơn hàng</span>
      </div>

      <div class="cancel-container">
        <div class="cancel-header">
          <div class="header-icon">
            <i class="fas fa-ban"></i>
          </div>
          <div class="header-content">
            <h1>Hủy đơn hàng #ORD-123456</h1>
            <p class="header-desc">Vui lòng cho chúng tôi biết lý do bạn muốn hủy đơn hàng này.</p>
          </div>
        </div>

        <div class="cancel-content">
          <div class="order-preview">
            <div class="preview-header">
              <h2>Thông tin đơn hàng</h2>
            </div>
            <div class="preview-content">
              <div class="preview-row">
                <div class="preview-label">Đơn hàng:</div>
                <div class="preview-value">#ORD-123456</div>
              </div>
              <div class="preview-row">
                <div class="preview-label">Ngày đặt:</div>
                <div class="preview-value">25/05/2023</div>
              </div>
              <div class="preview-row">
                <div class="preview-label">Tổng tiền:</div>
                <div class="preview-value">930.000₫</div>
              </div>
              <div class="preview-row">
                <div class="preview-label">Trạng thái:</div>
                <div class="preview-value status-processing">Đang xử lý</div>
              </div>
            </div>

            <div class="order-products">
              <h3>Sản phẩm trong đơn hàng</h3>
              <div class="product-list">
                <div class="product-item">
                  <img src="../images/handmade3.jpg" alt="Sản phẩm 1" class="product-img" />
                  <div class="product-info">
                    <div class="product-name">Hộp Đèn Chiếu "Mơ Mộng"</div>
                    <div class="product-variant">Màu: Nâu / Size: M</div>
                    <div class="product-price">350.000₫ x 2</div>
                  </div>
                </div>
                <div class="product-item">
                  <img src="../images/handmade7.jpg" alt="Sản phẩm 2" class="product-img" />
                  <div class="product-info">
                    <div class="product-name">Bộ Chai Nghệ Thuật "Hương Sắc Thiên Nhiên"</div>
                    <div class="product-variant">Màu: Be</div>
                    <div class="product-price">250.000₫ x 1</div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="cancel-form">
            <h2>Lý do hủy đơn hàng</h2>
            <p class="form-desc">Vui lòng chọn lý do để chúng tôi có thể phục vụ bạn tốt hơn trong tương lai.</p>
            
            <form id="cancelOrderForm">
              <div class="radio-options">
                <div class="radio-option">
                  <input type="radio" id="reason1" name="cancelReason" value="Muốn thay đổi địa chỉ giao hàng" />
                  <label for="reason1">Muốn thay đổi địa chỉ giao hàng</label>
                </div>
                <div class="radio-option">
                  <input type="radio" id="reason2" name="cancelReason" value="Muốn thay đổi phương thức thanh toán" />
                  <label for="reason2">Muốn thay đổi phương thức thanh toán</label>
                </div>
                <div class="radio-option">
                  <input type="radio" id="reason3" name="cancelReason" value="Tìm thấy giá tốt hơn ở nơi khác" />
                  <label for="reason3">Tìm thấy giá tốt hơn ở nơi khác</label>
                </div>
                <div class="radio-option">
                  <input type="radio" id="reason4" name="cancelReason" value="Thay đổi ý định mua hàng" />
                  <label for="reason4">Thay đổi ý định mua hàng</label>
                </div>
                <div class="radio-option">
                  <input type="radio" id="reason5" name="cancelReason" value="Đặt nhầm sản phẩm" />
                  <label for="reason5">Đặt nhầm sản phẩm</label>
                </div>
                <div class="radio-option">
                  <input type="radio" id="reason6" name="cancelReason" value="other" />
                  <label for="reason6">Lý do khác</label>
                </div>
              </div>

              <div class="form-group" id="otherReasonGroup" style="display: none;">
                <label for="otherReason">Vui lòng cho biết lý do khác:</label>
                <textarea id="otherReason" name="otherReason" rows="4" placeholder="Nhập lý do của bạn..."></textarea>
              </div>

              <div class="form-group">
                <label for="cancelNote">Ghi chú bổ sung (không bắt buộc):</label>
                <textarea id="cancelNote" name="cancelNote" rows="4" placeholder="Nhập ghi chú nếu có..."></textarea>
              </div>

              <div class="form-notice">
                <i class="fas fa-info-circle"></i>
                <p>
                  Lưu ý: Sau khi hủy đơn hàng, bạn không thể khôi phục lại. Nếu bạn đã thanh toán, 
                  số tiền sẽ được hoàn trả theo chính sách của chúng tôi trong vòng 7-14 ngày làm việc.
                </p>
              </div>

              <div class="form-actions">
                <a href="ChiTietDonHang.html" class="btn btn-back">Quay lại</a>
                <button type="submit" class="btn btn-cancel-confirm">Xác nhận hủy đơn hàng</button>
              </div>
            </form>
          </div>
        </div>
      </div>

      <div class="cancel-confirmation-modal" id="confirmationModal">
        <div class="modal-content">
          <div class="modal-header">
            <i class="fas fa-check-circle"></i>
            <h3>Yêu cầu hủy đơn hàng đã được gửi</h3>
            <button class="close-modal-btn">&times;</button>
          </div>
          <div class="modal-body">
            <p>Yêu cầu hủy đơn hàng #ORD-123456 của bạn đã được gửi đi thành công.</p>
            <p>Chúng tôi sẽ xử lý yêu cầu của bạn trong vòng 24 giờ và gửi xác nhận qua email.</p>
            <p>Cảm ơn bạn đã mua sắm cùng chúng tôi!</p>
            
            <div class="modal-actions">
              <a href="DonHang.html" class="btn btn-primary">Xem đơn hàng của tôi</a>
              <a href="../trangchu.html" class="btn btn-secondary">Tiếp tục mua sắm</a>
            </div>
          </div>
        </div>
      </div>
    </main>

    <footer>
      <div class="item item-1">
        <h4>Follow Us</h4>
        <div class="icon">
          <img src="../images/logohandmade.jpg" alt="" />
          <br />
          <a href="#"><i class="fa-brands fa-facebook"></i></a>
          <a href="#"><i class="fa-brands fa-twitter"></i></a>
          <a href="#"><i class="fa-brands fa-instagram"></i></a>
          <a href="#"><i class="fa-brands fa-youtube"></i></a>
        </div>
      </div>
      <div class="item">
        <h4>VỀ CHÚNG TÔI</h4>
        <ul>
          <li><a href="#">Câu chuyện thương hiệu</a></li>
          <li><a href="#">Về chúng tôi</a></li>
          <li><a href="#">Liên hệ</a></li>
        </ul>
      </div>
      <div class="item">
        <h4>CHÍNH SÁCH</h4>
        <ul>
          <li><a href="#">Chính sách và quy định chung</a></li>
          <li><a href="#">Chính sách giao nhận thanh toán</a></li>
          <li><a href="#">Chính sách đổi trả sản phẩm</a></li>
        </ul>
      </div>
      <div class="item">
        <h4>MY SHOP</h4>
        <ul>
          <li><a href="#">Quyền lợi thành viên</a></li>
          <li><a href="#">Thông tin thành viên</a></li>
          <li><a href="#">Theo dõi đơn hàng</a></li>
        </ul>
      </div>
    </footer>

    <script src="../js/utils/dataLoader.js"></script>
    <script src="../js/utils/productUtils.js"></script>
    <script src="../js/utils/cart.js"></script>
    <script src="../js/utils/searchUtils.js"></script>
    <script src="../js/utils/message.js"></script>
    <script src="../js/utils/auth.js"></script>
    <script src="../js/utils/dropdown.js"></script>
    <script>
      // Show/hide the "other reason" textarea based on selection
      document.querySelectorAll('input[name="cancelReason"]').forEach(radio => {
        radio.addEventListener('change', function() {
          const otherReasonGroup = document.getElementById('otherReasonGroup');
          if (this.value === 'other') {
            otherReasonGroup.style.display = 'block';
          } else {
            otherReasonGroup.style.display = 'none';
          }
        });
      });

      // Form submission
      document.getElementById('cancelOrderForm').addEventListener('submit', function(e) {
        e.preventDefault();
        document.getElementById('confirmationModal').style.display = 'flex';
      });

      // Close modal
      document.querySelector('.close-modal-btn').addEventListener('click', function() {
        document.getElementById('confirmationModal').style.display = 'none';
      });
    </script>
  </body>
</html> 